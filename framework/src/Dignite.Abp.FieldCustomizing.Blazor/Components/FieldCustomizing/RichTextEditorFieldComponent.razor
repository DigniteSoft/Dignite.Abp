@using Dignite.Abp.FieldCustomizing.Blazor
@using Dignite.Abp.FieldCustomizing.Fields
@using Dignite.Abp.FieldCustomizing.Fields.RichTextEditor
@using Dignite.Abp.FieldCustomizing
@using Microsoft.AspNetCore.Components.Forms
@using Dignite.Abp.AspNetCore.Components.CkEditor
@inherits FieldComponentBase

    <Field Horizontal="@(!HideFieldLable)">
        <FieldLabel ColumnSize="ColumnSize.Is2.OnDesktop" hidden="@HideFieldLable">@CustomizeField.Definition.DisplayName</FieldLabel>
        <FieldBody ColumnSize="ColumnSize.Is10.OnDesktop">     
            @if(Value!=null)
            {
                @((MarkupString)Value)
            }
        </FieldBody>
    </Field>


@code{
    public override Type FieldProviderType => typeof(RichTextEditorFieldProvider);

    public RichTextEditorConfiguration Configuration { get; set; }

    private string Value { get; set; }

    protected override void OnParametersSet()
    {
        Configuration = new RichTextEditorConfiguration(CustomizeField.Definition.Configuration);
    }

    protected override void OnInitialized()
    {
        base.OnInitialized();
        Value = CustomizeField.Entity.GetField(CustomizeField.Definition.Name)?.ToString();
    }

}